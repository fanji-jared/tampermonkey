# 介绍

为 Abaka 标注平台提供的一个多功能工具箱，集成了多种便捷功能，帮助标注员提高标注效率。

## 已开发功能

| 版本 | 功能名称 | 介绍 |
| --- | --- | --- |
| v1.0 | 自动聚焦输入框 | 点击 Yes 按钮后自动聚焦到展开的输入框 |
| v1.0 | Enter 送审快捷键 | 双击 Enter 键直接触发送审按钮 |
| v1.0 | 有道灵动-翻译快捷键 | 输入框里按反引号(`) 键快速触发翻译 |
| v1.6 | 控制台静默自动点击 | 控制台静默后自动点击送审按钮，带自动停止机制 |

## 使用方法

### 基本使用流程

1. 安装脚本
   - 在浏览器中安装 [Tampermonkey](https://www.tampermonkey.net/)
   - 点击下方对应脚本链接或在 Tampermonkey 仪表板中创建新脚本
   - 将 `.user.js` 文件内容粘贴并保存

2. 打开工具箱
   - 访问 Abaka 标注平台首页（<https://app.abaka.ai/>）
   - 工具箱会自动出现在页面右侧

3. 启用/禁用功能
   - 在工具箱主界面中查看所有功能
   - 使用右侧开关启用或禁用各个功能
   - 功能状态会自动保存

4. 使用各功能
   - **自动聚焦输入框**：点击 "Yes" 按钮后自动聚焦输入框
   - **Enter 送审快捷键**：在标注界面按双击 Enter 快速送审
   - **翻译快捷键**：在输入框中按反引号(`) 快速触发翻译
   - **自动点击**：点击"启动"按钮开始监听，控制台静默后自动点击送审按钮

### 高级功能

#### 自动点击器设置

1. 进入工具箱设置
   - 点击工具箱右上角的设置按钮 ⚙️
   - 切换到"自动点击"功能的设置面板

2. 配置自动停止
   - 勾选"检测到'没有更多数据'弹窗时自动停止"选项
   - 当出现"没有更多数据"弹窗时，自动点击器会自动停止运行

3. 调整检测频率
   - 在"检测频率"输入框中设置检测间隔（单位：毫秒）
   - 默认值为 5000 毫秒（5 秒）
   - 可设置范围：1000-60000 毫秒

4. 查看运行日志
   - 日志面板显示每次自动点击的详细信息
   - 包括点击时间、状态和错误提示

#### 数据导入导出

1. 导出设置
   - 在工具箱设置中点击"导出设置"按钮
   - 浏览器会下载 `abaka-settings.json` 文件
   - 可用于备份或在其他设备上恢复设置

2. 导入设置
   - 点击"导入设置"按钮选择之前导出的 JSON 文件
   - 脚本会验证文件格式并应用所有设置
   - 包括工具状态、分类和自定义配置

3. 重置设置
   - 点击"重置设置"按钮恢复默认配置
   - 此操作会清除所有自定义分类和配置

#### 分类管理

1. 创建分类
   - 在工具箱主界面右击工具项
   - 选择"新建分类"
   - 输入分类名称确认

2. 拖拽工具
   - 按住工具项并拖拽到目标分类
   - 松开鼠标完成移动
   - 拖拽目标分类会高亮显示

3. 重命名分类
   - 在分类标题上双击
   - 输入新名称并回车确认

4. 删除分类
   - 点击分类标题右侧的"×"按钮
   - 分类内工具会自动移至默认分类

## 更新日志

### v1.5.1

- 🎯 支持自定义自动点击检测频率
- 📊 增强自动点击日志显示
- 🔧 优化工具箱稳定性
- 📝 改进用户界面和提示信息

### v1.5

- 🎨 重新设计工具箱界面
- 📋 支持工具分类和拖拽排序
- 💾 添加设置导入导出功能
- 🔄 支持分类拖拽、重命名和删除
- ✨ 优化各功能的交互体验

### v1.0

- 🚀 初始版本发布
- ✅ 自动聚焦输入框功能
- ⌨️ 快捷键支持（Enter、反引号等）
- 🤖 自动点击送审功能

## 故障排除

### 脚本不生效

1. 检查脚本启用状态
   - 在 Tampermonkey 仪表板中确认脚本已启用
   - 脚本应该在访问 <https://app.abaka.ai/*> 时激活
   - 如果域名有变化，请更新脚本匹配规则，或者使用通配符 `*://*` 匹配所有域名

2. 检查页面元素
   - 打开浏览器开发者工具（F12）
   - 检查目标元素的类名和 ID 是否与脚本匹配
   - 页面 DOM 结构变化可能导致脚本失效

3. 查看控制台错误
   - 在浏览器开发者工具的 Console 标签查看错误信息
   - 搜索关键字 "Abaka" 或 "toolbox" 查看脚本日志

### 快捷键不响应

1. 确保页面聚焦
   - 点击页面内容区域使其获得焦点
   - 快捷键仅在页面聚焦时生效

2. 检查快捷键冲突
   - 浏览器或其他扩展可能占用快捷键
   - 尝试在不同页面或浏览器中测试

3. 检查元素存在
   - 双击 Enter 送审需要 `.button.head-submit-button` 元素存在
   - 翻译快捷键需要 Youdao Magic Fanyi 插件安装

### 自动点击不工作

1. 检查按钮选择器
   - 如果 UI 改版，送审按钮的选择器可能已改变
   - 在控制台中使用 `document.querySelector('.button.head-submit-button')` 测试

2. 查看日志信息
   - 在自动点击器日志中查看具体错误和状态
   - "已停止" 状态表示脚本正常，需要手动点击启动按钮

3. 调整检测频率
   - 增加检测频率值可减少自动点击响应延迟
   - 但过低的值可能导致频繁点击
   - 默认值为 5000 毫秒（5 秒）

## 贡献

欢迎提交 Issue 或 Pull Request，共同改进 Abaka Toolbox！

## 许可

本项目遵循 MIT 许可证。
